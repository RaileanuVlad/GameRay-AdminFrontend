{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { AuthService } from 'app/shared/auth.service';\nimport { ApiService } from '../shared/api.service';\nimport { AddGameModalComponent } from './add-game-modal/add-game-modal.component';\nimport { EditGameModalComponent } from './edit-game-modal/edit-game-modal.component';\nlet EditGameComponent = class EditGameComponent {\n  constructor(api, authService) {\n    this.api = api;\n    this.authService = authService;\n    this.games = [];\n    this.developers = [];\n  }\n\n  ngOnInit() {\n    if (this.authService.currentAdminValue) {\n      this.rank = this.authService.currentAdminValue.state;\n    } else {\n      this.rank = 0;\n    }\n\n    this.getDevelopers();\n    this.getGames();\n  }\n\n  getDevelopers() {\n    this.api.getDevelopers().subscribe(data => {\n      this.developers = data;\n    }, error => {\n      console.log('err', error);\n    });\n  }\n\n  getGames() {\n    this.api.getGames().subscribe(data => {\n      this.games = data; // for (let i = 0; i < data.length; i++) {\n      //   this.api.getGame(data[i].id)\n      //     .subscribe((info: Game) => {\n      //       info.id = data[i].id;\n      //       this.games.push(info);\n      //       console.log()\n      //     },\n      //       (e: Error) => {\n      //         console.log('err', e);\n      //       });\n      // }\n    }, error => {\n      console.log('err', error);\n    });\n  }\n\n  deleteGame(id, name) {\n    if (window.confirm(\"Are you sure you want to delete game \" + name + \"?\")) {\n      this.api.deleteGame(id).subscribe(() => {\n        this.games = [];\n        this.getGames();\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n\n  addGame() {\n    this.addGameModal.show();\n  }\n\n  showM1(id) {\n    this.editGameModal.show(id);\n  }\n\n  changeE(event) {\n    if (event === 'game') {\n      this.getGames();\n    }\n  }\n\n};\n\n__decorate([ViewChild('editGameModal'), __metadata(\"design:type\", EditGameModalComponent)], EditGameComponent.prototype, \"editGameModal\", void 0);\n\n__decorate([ViewChild('addGameModal'), __metadata(\"design:type\", AddGameModalComponent)], EditGameComponent.prototype, \"addGameModal\", void 0);\n\nEditGameComponent = __decorate([Component({\n  selector: 'app-edit-game',\n  templateUrl: './edit-game.component.html',\n  styleUrls: ['./edit-game.component.css']\n}), __metadata(\"design:paramtypes\", [ApiService, AuthService])], EditGameComponent);\nexport { EditGameComponent };","map":null,"metadata":{},"sourceType":"module"}